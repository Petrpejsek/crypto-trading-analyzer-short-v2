{
  "profile": "lean",
  "topK": 50,
  "hard_gates": {
    "min_quote_volume_usd": 5000000,
    "min_trades_24h": 20000,
    "atr_pct_h1_min": 1,
    "atr_pct_h1_max": 12
  },
  "score": {
    "penalty_missing_oi_delta": 0.02,
    "penalty_missing_vwap": 0.01,
    "penalty_oi_unreliable": 0.015,
    "penalty_oi_unreliable_by_age": { "enabled": true, "max_additional": 0.015 },
    "w_burst_m15": 0.08
  },
  "score_extra": {
    "w_body_ratio_m15": 0.08,
    "w_consec_above_vwap_m15": 0.05,
    "w_oi_divergence": 0.05,
    "w_rvol_liq_product": 0.06,
    "penalty_cooldown_max": 0.04,
    "thr_oi_div": 5.0
  },
  "quantile_gates": {
    "enabled": true,
    "ret_m15_q_min": 0.65,
    "rvol_h1_q_min": 0.70,
    "h1_range_pos_q_min": 0.70,
    "apply_only_in_no_trade": true
  },
  "sticky": { "enabled": true, "sticky_minutes": 30, "bonus_max": 0.015, "delta_s_max": 0.02 },
  "weights": {
    "ret_m15_pct": 0.25,
    "rvol_h1": 0.20,
    "ret_h1_pct": 0.15,
    "atr_pct_h1": 0.15,
    "vwap_rel_m15": 0.15,
    "oi_change_pct_h1": 0.10,
    "ema_stack_bonus": 0.5,
    "new_coin_bonus": 0.5
  },
  "h1_range_lookback": 12,
  "sim_preview_enabled_default": false,
  "gates": {
    "min_avg_trade_usdt": 12,
    "min_body_ratio_m15": 0.44,
    "max_upper_wick_ratio_m15": 0.45
  },
  "cooldown_minutes": 90,
  "presets": {
    "momentum": {
      "weights": {
        "ret_m15_pct": 0.25,
        "rvol_h1": 0.20,
        "ret_h1_pct": 0.15,
        "atr_pct_h1": 0.15,
        "vwap_rel_m15": 0.15,
        "oi_change_pct_h1": 0.10,
        "ema_stack_bonus": 0.5,
        "new_coin_bonus": 0.5
      },
      "atr_bounds": [1, 12]
    },
    "conservative": {
      "weights": {
        "ret_m15_pct": 0.2,
        "rvol_h1": 0.16,
        "ret_h1_pct": 0.15,
        "atr_pct_h1": 0.20,
        "vwap_rel_m15": 0.17,
        "oi_change_pct_h1": 0.12,
        "ema_stack_bonus": 0.5,
        "new_coin_bonus": 0.5
      },
      "atr_bounds": [1, 8]
    }
  },
  "profiles": {
    "lean": {
      "topK": 8,
      "quantile_gates_enabled": false,
      "sticky_enabled": false,
      "cooldown_minutes": 60,
      "score": {
        "w_burst_m15": 0.04,
        "w_body_ratio_m15": 0.04,
        "w_consec_above_vwap_m15": 0.03,
        "w_rvol_liq_product": 0.04,
        "w_oi_divergence": 0.03,
        "penalty_cooldown_max": 0.02,
        "penalty_oi_unreliable": 0.012,
        "penalty_oi_unreliable_by_age": { "enabled": true, "max_additional": 0.010 }
      },
      "adapter_compact_payload": false,
      "diag_enabled": false
    }
  },
  "overheat": {
    "enabled": true,
    "description": "Přepálené altcoiny s přísnými kritérii pro mean reversion shorts",
    "criteria": {
      "rsi_m15_min": 50,
      "rsi_h1_min": 45,
      "vwap_distance_atr_min": 0.2,
      "funding_min": 0.00001,
      "oi_change_min": 0.5,
      "spread_max_bps": 1000,
      "upper_wick_min": 0.1,
      "h1_range_pos_min": 50,
      "swing_high_buffer_atr": 0.1,
      "bonus_score_min": 0
    },
    "weights": {
      "rsi_m15": 0.25,
      "vwap_distance": 0.20,
      "funding": 0.15,
      "oi_change": 0.15,
      "bear_stack": 0.10,
      "knot_pattern": 0.10,
      "near_resistance": 0.05
    }
  },
  "losers_overheat_relief": {
    "enabled": true,
    "description": "Přehřáté relief rally na 24h losers - fade exhaustion bounce",
    "target_candidates": {
      "min": 25,
      "max": 60,
      "ideal": 40
    },
    "must_have": {
      "ret_24h_pct_max": 0,
      "rsi_m15_min": 70,
      "rsi_h1_min": 60,
      "ema20_m15_above_ema50_pct_min": 0.5,
      "price_above_vwap_atr_min": 0.5,
      "volume_24h_usd_min": 1000000,
      "ret_1h_pct_min": 0,
      "ema20_h1_ema50_h1_diff_max_pct": 3.0
    },
    "guardrails": {
      "spread_bps_max": 400,
      "liquidity_usd_min": 50000,
      "price_must_be_above_ema20_m15": true,
      "ret_1h_must_be_positive": true
    },
    "scoring_weights": {
      "rsi_overheat": 0.25,
      "distance_vwap_ema": 0.25,
      "liquidity_volume": 0.20,
      "momentum_slowdown": 0.20,
      "orderbook_absorption": 0.10
    },
    "refresh_interval_minutes": 15,
    "notes": [
      "Timeframe: M15 + H1 pouze (M5 ignoruj)",
      "Max 25-60 kandidátů",
      "Nepoužívat predikce, pouze situational probability"
    ]
  }
}


